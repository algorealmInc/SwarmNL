<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="High-level network manager."><title>libp2p_swarm - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-5bc39a1768837dd0.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="libp2p_swarm" data-themes="" data-resource-suffix="" data-rustdoc-version="1.77.0 (aedd173a2 2024-03-17)" data-channel="1.77.0" data-search-js="search-dd67cee4cfa65049.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-4c98445ec4002617.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-48f368f3872407c8.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-04d5337699b92874.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../libp2p_swarm/index.html">libp2p_swarm</a><span class="version">0.44.2</span></h2></div><div class="sidebar-elems"><ul class="block">
            <li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Aliases</a></li><li><a href="#derives">Derive Macros</a></li></ul></section></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../libp2p_swarm/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">libp2p_swarm</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/libp2p_swarm/lib.rs.html#21-2355">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>High-level network manager.</p>
<p>A <a href="struct.Swarm.html" title="struct libp2p_swarm::Swarm"><code>Swarm</code></a> contains the state of the network as a whole. The entire
behaviour of a libp2p network can be controlled through the <code>Swarm</code>.
The <code>Swarm</code> struct contains all active and pending connections to
remotes and manages the state of all the substreams that have been
opened, and all the upgrades that were built upon these substreams.</p>
<h2 id="initializing-a-swarm"><a class="doc-anchor" href="#initializing-a-swarm">§</a>Initializing a Swarm</h2>
<p>Creating a <code>Swarm</code> requires three things:</p>
<ol>
<li>A network identity of the local node in form of a <a href="../libp2p_identity/peer_id/struct.PeerId.html" title="struct libp2p_identity::peer_id::PeerId"><code>PeerId</code></a>.</li>
<li>An implementation of the <a href="../libp2p_core/transport/trait.Transport.html" title="trait libp2p_core::transport::Transport"><code>Transport</code></a> trait. This is the type that
will be used in order to reach nodes on the network based on their
address. See the <code>transport</code> module for more information.</li>
<li>An implementation of the <a href="behaviour/trait.NetworkBehaviour.html" title="trait libp2p_swarm::behaviour::NetworkBehaviour"><code>NetworkBehaviour</code></a> trait. This is a state
machine that defines how the swarm should behave once it is connected
to a node.</li>
</ol>
<h2 id="network-behaviour"><a class="doc-anchor" href="#network-behaviour">§</a>Network Behaviour</h2>
<p>The <a href="behaviour/trait.NetworkBehaviour.html" title="trait libp2p_swarm::behaviour::NetworkBehaviour"><code>NetworkBehaviour</code></a> trait is implemented on types that indicate to
the swarm how it should behave. This includes which protocols are supported
and which nodes to try to connect to. It is the <code>NetworkBehaviour</code> that
controls what happens on the network. Multiple types that implement
<code>NetworkBehaviour</code> can be composed into a single behaviour.</p>
<h2 id="protocols-handler"><a class="doc-anchor" href="#protocols-handler">§</a>Protocols Handler</h2>
<p>The <a href="handler/trait.ConnectionHandler.html" title="trait libp2p_swarm::handler::ConnectionHandler"><code>ConnectionHandler</code></a> trait defines how each active connection to a
remote should behave: how to handle incoming substreams, which protocols
are supported, when to open a new outbound substream, etc.</p>
</div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name" id="reexport.AddressChange"><code>pub use behaviour::<a class="struct" href="behaviour/struct.AddressChange.html" title="struct libp2p_swarm::behaviour::AddressChange">AddressChange</a>;</code></div></li><li><div class="item-name" id="reexport.CloseConnection"><code>pub use behaviour::<a class="enum" href="behaviour/enum.CloseConnection.html" title="enum libp2p_swarm::behaviour::CloseConnection">CloseConnection</a>;</code></div></li><li><div class="item-name" id="reexport.ConnectionClosed"><code>pub use behaviour::<a class="struct" href="behaviour/struct.ConnectionClosed.html" title="struct libp2p_swarm::behaviour::ConnectionClosed">ConnectionClosed</a>;</code></div></li><li><div class="item-name" id="reexport.DialFailure"><code>pub use behaviour::<a class="struct" href="behaviour/struct.DialFailure.html" title="struct libp2p_swarm::behaviour::DialFailure">DialFailure</a>;</code></div></li><li><div class="item-name" id="reexport.ExpiredListenAddr"><code>pub use behaviour::<a class="struct" href="behaviour/struct.ExpiredListenAddr.html" title="struct libp2p_swarm::behaviour::ExpiredListenAddr">ExpiredListenAddr</a>;</code></div></li><li><div class="item-name" id="reexport.ExternalAddrExpired"><code>pub use behaviour::<a class="struct" href="behaviour/struct.ExternalAddrExpired.html" title="struct libp2p_swarm::behaviour::ExternalAddrExpired">ExternalAddrExpired</a>;</code></div></li><li><div class="item-name" id="reexport.ExternalAddresses"><code>pub use behaviour::<a class="struct" href="behaviour/struct.ExternalAddresses.html" title="struct libp2p_swarm::behaviour::ExternalAddresses">ExternalAddresses</a>;</code></div></li><li><div class="item-name" id="reexport.FromSwarm"><code>pub use behaviour::<a class="enum" href="behaviour/enum.FromSwarm.html" title="enum libp2p_swarm::behaviour::FromSwarm">FromSwarm</a>;</code></div></li><li><div class="item-name" id="reexport.ListenAddresses"><code>pub use behaviour::<a class="struct" href="behaviour/struct.ListenAddresses.html" title="struct libp2p_swarm::behaviour::ListenAddresses">ListenAddresses</a>;</code></div></li><li><div class="item-name" id="reexport.ListenFailure"><code>pub use behaviour::<a class="struct" href="behaviour/struct.ListenFailure.html" title="struct libp2p_swarm::behaviour::ListenFailure">ListenFailure</a>;</code></div></li><li><div class="item-name" id="reexport.ListenerClosed"><code>pub use behaviour::<a class="struct" href="behaviour/struct.ListenerClosed.html" title="struct libp2p_swarm::behaviour::ListenerClosed">ListenerClosed</a>;</code></div></li><li><div class="item-name" id="reexport.ListenerError"><code>pub use behaviour::<a class="struct" href="behaviour/struct.ListenerError.html" title="struct libp2p_swarm::behaviour::ListenerError">ListenerError</a>;</code></div></li><li><div class="item-name" id="reexport.NetworkBehaviour"><code>pub use behaviour::<a class="trait" href="behaviour/trait.NetworkBehaviour.html" title="trait libp2p_swarm::behaviour::NetworkBehaviour">NetworkBehaviour</a>;</code></div></li><li><div class="item-name" id="reexport.NewExternalAddrCandidate"><code>pub use behaviour::<a class="struct" href="behaviour/struct.NewExternalAddrCandidate.html" title="struct libp2p_swarm::behaviour::NewExternalAddrCandidate">NewExternalAddrCandidate</a>;</code></div></li><li><div class="item-name" id="reexport.NewExternalAddrOfPeer"><code>pub use behaviour::<a class="struct" href="behaviour/struct.NewExternalAddrOfPeer.html" title="struct libp2p_swarm::behaviour::NewExternalAddrOfPeer">NewExternalAddrOfPeer</a>;</code></div></li><li><div class="item-name" id="reexport.NewListenAddr"><code>pub use behaviour::<a class="struct" href="behaviour/struct.NewListenAddr.html" title="struct libp2p_swarm::behaviour::NewListenAddr">NewListenAddr</a>;</code></div></li><li><div class="item-name" id="reexport.NotifyHandler"><code>pub use behaviour::<a class="enum" href="behaviour/enum.NotifyHandler.html" title="enum libp2p_swarm::behaviour::NotifyHandler">NotifyHandler</a>;</code></div></li><li><div class="item-name" id="reexport.PeerAddresses"><code>pub use behaviour::<a class="struct" href="behaviour/struct.PeerAddresses.html" title="struct libp2p_swarm::behaviour::PeerAddresses">PeerAddresses</a>;</code></div></li><li><div class="item-name" id="reexport.ToSwarm"><code>pub use behaviour::<a class="enum" href="behaviour/enum.ToSwarm.html" title="enum libp2p_swarm::behaviour::ToSwarm">ToSwarm</a>;</code></div></li><li><div class="item-name" id="reexport.ConnectionHandler"><code>pub use handler::<a class="trait" href="handler/trait.ConnectionHandler.html" title="trait libp2p_swarm::handler::ConnectionHandler">ConnectionHandler</a>;</code></div></li><li><div class="item-name" id="reexport.ConnectionHandlerEvent"><code>pub use handler::<a class="enum" href="handler/enum.ConnectionHandlerEvent.html" title="enum libp2p_swarm::handler::ConnectionHandlerEvent">ConnectionHandlerEvent</a>;</code></div></li><li><div class="item-name" id="reexport.ConnectionHandlerSelect"><code>pub use handler::<a class="struct" href="handler/struct.ConnectionHandlerSelect.html" title="struct libp2p_swarm::handler::ConnectionHandlerSelect">ConnectionHandlerSelect</a>;</code></div></li><li><div class="item-name" id="reexport.OneShotHandler"><code>pub use handler::<a class="struct" href="handler/struct.OneShotHandler.html" title="struct libp2p_swarm::handler::OneShotHandler">OneShotHandler</a>;</code></div></li><li><div class="item-name" id="reexport.OneShotHandlerConfig"><code>pub use handler::<a class="struct" href="handler/struct.OneShotHandlerConfig.html" title="struct libp2p_swarm::handler::OneShotHandlerConfig">OneShotHandlerConfig</a>;</code></div></li><li><div class="item-name" id="reexport.StreamUpgradeError"><code>pub use handler::<a class="enum" href="handler/enum.StreamUpgradeError.html" title="enum libp2p_swarm::handler::StreamUpgradeError">StreamUpgradeError</a>;</code></div></li><li><div class="item-name" id="reexport.SubstreamProtocol"><code>pub use handler::<a class="struct" href="handler/struct.SubstreamProtocol.html" title="struct libp2p_swarm::handler::SubstreamProtocol">SubstreamProtocol</a>;</code></div></li></ul><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="behaviour/index.html" title="mod libp2p_swarm::behaviour">behaviour</a></div></li><li><div class="item-name"><a class="mod" href="dial_opts/index.html" title="mod libp2p_swarm::dial_opts">dial_opts</a></div></li><li><div class="item-name"><a class="mod" href="dummy/index.html" title="mod libp2p_swarm::dummy">dummy</a></div></li><li><div class="item-name"><a class="mod" href="handler/index.html" title="mod libp2p_swarm::handler">handler</a></div><div class="desc docblock-short">Once a connection to a remote peer is established, a <a href="handler/trait.ConnectionHandler.html" title="trait libp2p_swarm::handler::ConnectionHandler"><code>ConnectionHandler</code></a> negotiates
and handles one or more specific protocols on the connection.</div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Config.html" title="struct libp2p_swarm::Config">Config</a></div></li><li><div class="item-name"><a class="struct" href="struct.ConnectionCounters.html" title="struct libp2p_swarm::ConnectionCounters">ConnectionCounters</a></div><div class="desc docblock-short">Network connection information.</div></li><li><div class="item-name"><a class="struct" href="struct.ConnectionDenied.html" title="struct libp2p_swarm::ConnectionDenied">ConnectionDenied</a></div><div class="desc docblock-short">A connection was denied.</div></li><li><div class="item-name"><a class="struct" href="struct.ConnectionId.html" title="struct libp2p_swarm::ConnectionId">ConnectionId</a></div><div class="desc docblock-short">Connection identifier.</div></li><li><div class="item-name"><a class="struct" href="struct.InvalidProtocol.html" title="struct libp2p_swarm::InvalidProtocol">InvalidProtocol</a></div></li><li><div class="item-name"><a class="struct" href="struct.ListenOpts.html" title="struct libp2p_swarm::ListenOpts">ListenOpts</a></div></li><li><div class="item-name"><a class="struct" href="struct.NetworkInfo.html" title="struct libp2p_swarm::NetworkInfo">NetworkInfo</a></div><div class="desc docblock-short">Information about the connections obtained by <a href="struct.Swarm.html#method.network_info" title="method libp2p_swarm::Swarm::network_info"><code>Swarm::network_info()</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.Stream.html" title="struct libp2p_swarm::Stream">Stream</a></div></li><li><div class="item-name"><a class="struct" href="struct.StreamProtocol.html" title="struct libp2p_swarm::StreamProtocol">StreamProtocol</a></div><div class="desc docblock-short">Identifies a protocol for a stream.</div></li><li><div class="item-name"><a class="struct" href="struct.SupportedProtocols.html" title="struct libp2p_swarm::SupportedProtocols">SupportedProtocols</a></div></li><li><div class="item-name"><a class="struct" href="struct.Swarm.html" title="struct libp2p_swarm::Swarm">Swarm</a></div><div class="desc docblock-short">Contains the state of the network, plus the way it should behave.</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.ConnectionError.html" title="enum libp2p_swarm::ConnectionError">ConnectionError</a></div><div class="desc docblock-short">Errors that can occur in the context of an established <code>Connection</code>.</div></li><li><div class="item-name"><a class="enum" href="enum.DialError.html" title="enum libp2p_swarm::DialError">DialError</a></div><div class="desc docblock-short">Possible errors when trying to establish or upgrade an outbound connection.</div></li><li><div class="item-name"><a class="enum" href="enum.ListenError.html" title="enum libp2p_swarm::ListenError">ListenError</a></div><div class="desc docblock-short">Possible errors when upgrading an inbound connection.</div></li><li><div class="item-name"><a class="enum" href="enum.SwarmEvent.html" title="enum libp2p_swarm::SwarmEvent">SwarmEvent</a></div><div class="desc docblock-short">Event generated by the <code>Swarm</code>.</div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.Executor.html" title="trait libp2p_swarm::Executor">Executor</a></div><div class="desc docblock-short">Implemented on objects that can run a <code>Future</code> in the background.</div></li></ul><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.THandler.html" title="type libp2p_swarm::THandler">THandler</a></div><div class="desc docblock-short"><a href="handler/trait.ConnectionHandler.html" title="trait libp2p_swarm::handler::ConnectionHandler"><code>ConnectionHandler</code></a> of the <a href="behaviour/trait.NetworkBehaviour.html" title="trait libp2p_swarm::behaviour::NetworkBehaviour"><code>NetworkBehaviour</code></a> for all the protocols the <a href="behaviour/trait.NetworkBehaviour.html" title="trait libp2p_swarm::behaviour::NetworkBehaviour"><code>NetworkBehaviour</code></a>
supports.</div></li><li><div class="item-name"><a class="type" href="type.THandlerInEvent.html" title="type libp2p_swarm::THandlerInEvent">THandlerInEvent</a></div><div class="desc docblock-short">Custom event that can be received by the <a href="handler/trait.ConnectionHandler.html" title="trait libp2p_swarm::handler::ConnectionHandler"><code>ConnectionHandler</code></a> of the
<a href="behaviour/trait.NetworkBehaviour.html" title="trait libp2p_swarm::behaviour::NetworkBehaviour"><code>NetworkBehaviour</code></a>.</div></li><li><div class="item-name"><a class="type" href="type.THandlerOutEvent.html" title="type libp2p_swarm::THandlerOutEvent">THandlerOutEvent</a></div><div class="desc docblock-short">Custom event that can be produced by the <a href="handler/trait.ConnectionHandler.html" title="trait libp2p_swarm::handler::ConnectionHandler"><code>ConnectionHandler</code></a> of the <a href="behaviour/trait.NetworkBehaviour.html" title="trait libp2p_swarm::behaviour::NetworkBehaviour"><code>NetworkBehaviour</code></a>.</div></li></ul><h2 id="derives" class="section-header">Derive Macros<a href="#derives" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="derive" href="derive.NetworkBehaviour.html" title="derive libp2p_swarm::NetworkBehaviour">NetworkBehaviour</a></div><div class="desc docblock-short">Generates a delegating <code>NetworkBehaviour</code> implementation for the struct this is used for. See
the trait documentation for better description.</div></li></ul></section></div></main></body></html>