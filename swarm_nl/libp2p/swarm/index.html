<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="High-level network manager."><title>libp2p::swarm - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-5bc39a1768837dd0.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="libp2p" data-themes="" data-resource-suffix="" data-rustdoc-version="1.77.0 (aedd173a2 2024-03-17)" data-channel="1.77.0" data-search-js="search-dd67cee4cfa65049.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-4c98445ec4002617.js"></script><script defer src="../../crates.js"></script><script defer src="../../static.files/main-48f368f3872407c8.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-04d5337699b92874.css"></noscript><link rel="icon" href="https://libp2p.io/img/favicon.png"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../../libp2p/index.html"><img src="https://libp2p.io/img/logo_small.png" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../libp2p/index.html"><img src="https://libp2p.io/img/logo_small.png" alt="logo"></a><h2><a href="../../libp2p/index.html">libp2p</a><span class="version">0.53.2</span></h2></div><div class="sidebar-elems"><ul class="block">
            <li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Aliases</a></li><li><a href="#derives">Derive Macros</a></li></ul></section></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../libp2p/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a href="../index.html">libp2p</a>::<wbr><a class="mod" href="#">swarm</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/libp2p_swarm/lib.rs.html#21-2355">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>High-level network manager.</p>
<p>A <a href="../struct.Swarm.html" title="struct libp2p::Swarm"><code>Swarm</code></a> contains the state of the network as a whole. The entire
behaviour of a libp2p network can be controlled through the <code>Swarm</code>.
The <code>Swarm</code> struct contains all active and pending connections to
remotes and manages the state of all the substreams that have been
opened, and all the upgrades that were built upon these substreams.</p>
<h2 id="initializing-a-swarm"><a class="doc-anchor" href="#initializing-a-swarm">§</a>Initializing a Swarm</h2>
<p>Creating a <code>Swarm</code> requires three things:</p>
<ol>
<li>A network identity of the local node in form of a <a href="../struct.PeerId.html" title="struct libp2p::PeerId"><code>PeerId</code></a>.</li>
<li>An implementation of the <a href="../trait.Transport.html" title="trait libp2p::Transport"><code>Transport</code></a> trait. This is the type that
will be used in order to reach nodes on the network based on their
address. See the <code>transport</code> module for more information.</li>
<li>An implementation of the <a href="trait.NetworkBehaviour.html" title="trait libp2p::swarm::NetworkBehaviour"><code>NetworkBehaviour</code></a> trait. This is a state
machine that defines how the swarm should behave once it is connected
to a node.</li>
</ol>
<h2 id="network-behaviour"><a class="doc-anchor" href="#network-behaviour">§</a>Network Behaviour</h2>
<p>The <a href="trait.NetworkBehaviour.html" title="trait libp2p::swarm::NetworkBehaviour"><code>NetworkBehaviour</code></a> trait is implemented on types that indicate to
the swarm how it should behave. This includes which protocols are supported
and which nodes to try to connect to. It is the <code>NetworkBehaviour</code> that
controls what happens on the network. Multiple types that implement
<code>NetworkBehaviour</code> can be composed into a single behaviour.</p>
<h2 id="protocols-handler"><a class="doc-anchor" href="#protocols-handler">§</a>Protocols Handler</h2>
<p>The <a href="trait.ConnectionHandler.html" title="trait libp2p::swarm::ConnectionHandler"><code>ConnectionHandler</code></a> trait defines how each active connection to a
remote should behave: how to handle incoming substreams, which protocols
are supported, when to open a new outbound substream, etc.</p>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="behaviour/index.html" title="mod libp2p::swarm::behaviour">behaviour</a></div></li><li><div class="item-name"><a class="mod" href="dial_opts/index.html" title="mod libp2p::swarm::dial_opts">dial_opts</a></div></li><li><div class="item-name"><a class="mod" href="dummy/index.html" title="mod libp2p::swarm::dummy">dummy</a></div></li><li><div class="item-name"><a class="mod" href="handler/index.html" title="mod libp2p::swarm::handler">handler</a></div><div class="desc docblock-short">Once a connection to a remote peer is established, a <a href="trait.ConnectionHandler.html" title="trait libp2p::swarm::ConnectionHandler"><code>ConnectionHandler</code></a> negotiates
and handles one or more specific protocols on the connection.</div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.AddressChange.html" title="struct libp2p::swarm::AddressChange">AddressChange</a></div><div class="desc docblock-short"><a href="enum.FromSwarm.html" title="enum libp2p::swarm::FromSwarm"><code>FromSwarm</code></a> variant that informs the behaviour that the <a href="../core/enum.ConnectedPoint.html" title="enum libp2p::core::ConnectedPoint"><code>ConnectedPoint</code></a> of an existing
connection has changed.</div></li><li><div class="item-name"><a class="struct" href="struct.Config.html" title="struct libp2p::swarm::Config">Config</a></div></li><li><div class="item-name"><a class="struct" href="struct.ConnectionClosed.html" title="struct libp2p::swarm::ConnectionClosed">ConnectionClosed</a></div><div class="desc docblock-short"><a href="enum.FromSwarm.html" title="enum libp2p::swarm::FromSwarm"><code>FromSwarm</code></a> variant that informs the behaviour about a closed connection to a peer.</div></li><li><div class="item-name"><a class="struct" href="struct.ConnectionCounters.html" title="struct libp2p::swarm::ConnectionCounters">ConnectionCounters</a></div><div class="desc docblock-short">Network connection information.</div></li><li><div class="item-name"><a class="struct" href="struct.ConnectionDenied.html" title="struct libp2p::swarm::ConnectionDenied">ConnectionDenied</a></div><div class="desc docblock-short">A connection was denied.</div></li><li><div class="item-name"><a class="struct" href="struct.ConnectionHandlerSelect.html" title="struct libp2p::swarm::ConnectionHandlerSelect">ConnectionHandlerSelect</a></div><div class="desc docblock-short">Implementation of <a href="trait.ConnectionHandler.html" title="trait libp2p::swarm::ConnectionHandler"><code>ConnectionHandler</code></a> that combines two protocols into one.</div></li><li><div class="item-name"><a class="struct" href="struct.ConnectionId.html" title="struct libp2p::swarm::ConnectionId">ConnectionId</a></div><div class="desc docblock-short">Connection identifier.</div></li><li><div class="item-name"><a class="struct" href="struct.DialFailure.html" title="struct libp2p::swarm::DialFailure">DialFailure</a></div><div class="desc docblock-short"><a href="enum.FromSwarm.html" title="enum libp2p::swarm::FromSwarm"><code>FromSwarm</code></a> variant that informs the behaviour that the dial to a known
or unknown node failed.</div></li><li><div class="item-name"><a class="struct" href="struct.ExpiredListenAddr.html" title="struct libp2p::swarm::ExpiredListenAddr">ExpiredListenAddr</a></div><div class="desc docblock-short"><a href="enum.FromSwarm.html" title="enum libp2p::swarm::FromSwarm"><code>FromSwarm</code></a> variant that informs the behaviour that a multiaddr
we were listening on has expired,
which means that we are no longer listening on it.</div></li><li><div class="item-name"><a class="struct" href="struct.ExternalAddrExpired.html" title="struct libp2p::swarm::ExternalAddrExpired">ExternalAddrExpired</a></div><div class="desc docblock-short"><a href="enum.FromSwarm.html" title="enum libp2p::swarm::FromSwarm"><code>FromSwarm</code></a> variant that informs the behaviour that an external address was removed.</div></li><li><div class="item-name"><a class="struct" href="struct.ExternalAddresses.html" title="struct libp2p::swarm::ExternalAddresses">ExternalAddresses</a></div><div class="desc docblock-short">Utility struct for tracking the external addresses of a <a href="../struct.Swarm.html" title="struct libp2p::Swarm"><code>Swarm</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.InvalidProtocol.html" title="struct libp2p::swarm::InvalidProtocol">InvalidProtocol</a></div></li><li><div class="item-name"><a class="struct" href="struct.ListenAddresses.html" title="struct libp2p::swarm::ListenAddresses">ListenAddresses</a></div><div class="desc docblock-short">Utility struct for tracking the addresses a <a href="../struct.Swarm.html" title="struct libp2p::Swarm"><code>Swarm</code></a> is listening on.</div></li><li><div class="item-name"><a class="struct" href="struct.ListenFailure.html" title="struct libp2p::swarm::ListenFailure">ListenFailure</a></div><div class="desc docblock-short"><a href="enum.FromSwarm.html" title="enum libp2p::swarm::FromSwarm"><code>FromSwarm</code></a> variant that informs the behaviour that an error
happened on an incoming connection during its initial handshake.</div></li><li><div class="item-name"><a class="struct" href="struct.ListenOpts.html" title="struct libp2p::swarm::ListenOpts">ListenOpts</a></div></li><li><div class="item-name"><a class="struct" href="struct.ListenerClosed.html" title="struct libp2p::swarm::ListenerClosed">ListenerClosed</a></div><div class="desc docblock-short"><a href="enum.FromSwarm.html" title="enum libp2p::swarm::FromSwarm"><code>FromSwarm</code></a> variant that informs the behaviour that a listener closed.</div></li><li><div class="item-name"><a class="struct" href="struct.ListenerError.html" title="struct libp2p::swarm::ListenerError">ListenerError</a></div><div class="desc docblock-short"><a href="enum.FromSwarm.html" title="enum libp2p::swarm::FromSwarm"><code>FromSwarm</code></a> variant that informs the behaviour that a listener experienced an error.</div></li><li><div class="item-name"><a class="struct" href="struct.NetworkInfo.html" title="struct libp2p::swarm::NetworkInfo">NetworkInfo</a></div><div class="desc docblock-short">Information about the connections obtained by <a href="../struct.Swarm.html#method.network_info" title="method libp2p::Swarm::network_info"><code>Swarm::network_info()</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.NewExternalAddrCandidate.html" title="struct libp2p::swarm::NewExternalAddrCandidate">NewExternalAddrCandidate</a></div><div class="desc docblock-short"><a href="enum.FromSwarm.html" title="enum libp2p::swarm::FromSwarm"><code>FromSwarm</code></a> variant that informs the behaviour about a new candidate for an external address for us.</div></li><li><div class="item-name"><a class="struct" href="struct.NewExternalAddrOfPeer.html" title="struct libp2p::swarm::NewExternalAddrOfPeer">NewExternalAddrOfPeer</a></div><div class="desc docblock-short"><a href="enum.FromSwarm.html" title="enum libp2p::swarm::FromSwarm"><code>FromSwarm</code></a> variant that informs the behaviour that a new external address for a remote peer was detected.</div></li><li><div class="item-name"><a class="struct" href="struct.NewListenAddr.html" title="struct libp2p::swarm::NewListenAddr">NewListenAddr</a></div><div class="desc docblock-short"><a href="enum.FromSwarm.html" title="enum libp2p::swarm::FromSwarm"><code>FromSwarm</code></a> variant that informs the behaviour
that we have started listening on a new multiaddr.</div></li><li><div class="item-name"><a class="struct" href="struct.OneShotHandler.html" title="struct libp2p::swarm::OneShotHandler">OneShotHandler</a></div><div class="desc docblock-short">A <a href="trait.ConnectionHandler.html" title="trait libp2p::swarm::ConnectionHandler"><code>ConnectionHandler</code></a> that opens a new substream for each request.</div></li><li><div class="item-name"><a class="struct" href="struct.OneShotHandlerConfig.html" title="struct libp2p::swarm::OneShotHandlerConfig">OneShotHandlerConfig</a></div><div class="desc docblock-short">Configuration parameters for the <code>OneShotHandler</code></div></li><li><div class="item-name"><a class="struct" href="struct.PeerAddresses.html" title="struct libp2p::swarm::PeerAddresses">PeerAddresses</a></div><div class="desc docblock-short">Struct for tracking peers’ external addresses of the <a href="../struct.Swarm.html" title="struct libp2p::Swarm"><code>Swarm</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.Stream.html" title="struct libp2p::swarm::Stream">Stream</a></div></li><li><div class="item-name"><a class="struct" href="struct.StreamProtocol.html" title="struct libp2p::swarm::StreamProtocol">StreamProtocol</a></div><div class="desc docblock-short">Identifies a protocol for a stream.</div></li><li><div class="item-name"><a class="struct" href="struct.SubstreamProtocol.html" title="struct libp2p::swarm::SubstreamProtocol">SubstreamProtocol</a></div><div class="desc docblock-short">Configuration of inbound or outbound substream protocol(s)
for a <a href="trait.ConnectionHandler.html" title="trait libp2p::swarm::ConnectionHandler"><code>ConnectionHandler</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.SupportedProtocols.html" title="struct libp2p::swarm::SupportedProtocols">SupportedProtocols</a></div></li><li><div class="item-name"><a class="struct" href="struct.Swarm.html" title="struct libp2p::swarm::Swarm">Swarm</a></div><div class="desc docblock-short">Contains the state of the network, plus the way it should behave.</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.CloseConnection.html" title="enum libp2p::swarm::CloseConnection">CloseConnection</a></div><div class="desc docblock-short">The options which connections to close.</div></li><li><div class="item-name"><a class="enum" href="enum.ConnectionError.html" title="enum libp2p::swarm::ConnectionError">ConnectionError</a></div><div class="desc docblock-short">Errors that can occur in the context of an established <code>Connection</code>.</div></li><li><div class="item-name"><a class="enum" href="enum.ConnectionHandlerEvent.html" title="enum libp2p::swarm::ConnectionHandlerEvent">ConnectionHandlerEvent</a></div><div class="desc docblock-short">Event produced by a handler.</div></li><li><div class="item-name"><a class="enum" href="enum.DialError.html" title="enum libp2p::swarm::DialError">DialError</a></div><div class="desc docblock-short">Possible errors when trying to establish or upgrade an outbound connection.</div></li><li><div class="item-name"><a class="enum" href="enum.FromSwarm.html" title="enum libp2p::swarm::FromSwarm">FromSwarm</a></div><div class="desc docblock-short">Enumeration with the list of the possible events
to pass to <a href="trait.NetworkBehaviour.html#tymethod.on_swarm_event" title="method libp2p::swarm::NetworkBehaviour::on_swarm_event"><code>on_swarm_event</code></a>.</div></li><li><div class="item-name"><a class="enum" href="enum.ListenError.html" title="enum libp2p::swarm::ListenError">ListenError</a></div><div class="desc docblock-short">Possible errors when upgrading an inbound connection.</div></li><li><div class="item-name"><a class="enum" href="enum.NotifyHandler.html" title="enum libp2p::swarm::NotifyHandler">NotifyHandler</a></div><div class="desc docblock-short">The options w.r.t. which connection handler to notify of an event.</div></li><li><div class="item-name"><a class="enum" href="enum.StreamUpgradeError.html" title="enum libp2p::swarm::StreamUpgradeError">StreamUpgradeError</a></div><div class="desc docblock-short">Error that can happen on an outbound substream opening attempt.</div></li><li><div class="item-name"><a class="enum" href="enum.SwarmEvent.html" title="enum libp2p::swarm::SwarmEvent">SwarmEvent</a></div><div class="desc docblock-short">Event generated by the <code>Swarm</code>.</div></li><li><div class="item-name"><a class="enum" href="enum.ToSwarm.html" title="enum libp2p::swarm::ToSwarm">ToSwarm</a></div><div class="desc docblock-short">A command issued from a <a href="trait.NetworkBehaviour.html" title="trait libp2p::swarm::NetworkBehaviour"><code>NetworkBehaviour</code></a> for the <a href="../struct.Swarm.html" title="struct libp2p::Swarm"><code>Swarm</code></a>.</div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.ConnectionHandler.html" title="trait libp2p::swarm::ConnectionHandler">ConnectionHandler</a></div><div class="desc docblock-short">A handler for a set of protocols used on a connection with a remote.</div></li><li><div class="item-name"><a class="trait" href="trait.Executor.html" title="trait libp2p::swarm::Executor">Executor</a></div><div class="desc docblock-short">Implemented on objects that can run a <code>Future</code> in the background.</div></li><li><div class="item-name"><a class="trait" href="trait.NetworkBehaviour.html" title="trait libp2p::swarm::NetworkBehaviour">NetworkBehaviour</a></div><div class="desc docblock-short">A <a href="trait.NetworkBehaviour.html" title="trait libp2p::swarm::NetworkBehaviour"><code>NetworkBehaviour</code></a> defines the behaviour of the local node on the network.</div></li></ul><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.THandler.html" title="type libp2p::swarm::THandler">THandler</a></div><div class="desc docblock-short"><a href="trait.ConnectionHandler.html" title="trait libp2p::swarm::ConnectionHandler"><code>ConnectionHandler</code></a> of the <a href="trait.NetworkBehaviour.html" title="trait libp2p::swarm::NetworkBehaviour"><code>NetworkBehaviour</code></a> for all the protocols the <a href="trait.NetworkBehaviour.html" title="trait libp2p::swarm::NetworkBehaviour"><code>NetworkBehaviour</code></a>
supports.</div></li><li><div class="item-name"><a class="type" href="type.THandlerInEvent.html" title="type libp2p::swarm::THandlerInEvent">THandlerInEvent</a></div><div class="desc docblock-short">Custom event that can be received by the <a href="trait.ConnectionHandler.html" title="trait libp2p::swarm::ConnectionHandler"><code>ConnectionHandler</code></a> of the
<a href="trait.NetworkBehaviour.html" title="trait libp2p::swarm::NetworkBehaviour"><code>NetworkBehaviour</code></a>.</div></li><li><div class="item-name"><a class="type" href="type.THandlerOutEvent.html" title="type libp2p::swarm::THandlerOutEvent">THandlerOutEvent</a></div><div class="desc docblock-short">Custom event that can be produced by the <a href="trait.ConnectionHandler.html" title="trait libp2p::swarm::ConnectionHandler"><code>ConnectionHandler</code></a> of the <a href="trait.NetworkBehaviour.html" title="trait libp2p::swarm::NetworkBehaviour"><code>NetworkBehaviour</code></a>.</div></li></ul><h2 id="derives" class="section-header">Derive Macros<a href="#derives" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="derive" href="derive.NetworkBehaviour.html" title="derive libp2p::swarm::NetworkBehaviour">NetworkBehaviour</a></div><div class="desc docblock-short">Generates a delegating <code>NetworkBehaviour</code> implementation for the struct this is used for. See
the trait documentation for better description.</div></li></ul></section></div></main></body></html>